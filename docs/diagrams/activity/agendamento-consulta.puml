@startuml
---
description:
author: Bruna Flôr
release:
license:
version: 1.0.0
---

header
Requisitos: RF002 (Agendamento de consultas) e RF004 (Visualização histórico)
end header

title Fluxo de Agendamento de Consultas

caption
Desenvolvido por
Bruna Flôr - RU: 4596056
end caption

!theme mars

|user| Usuário
|sys| Sistema

start

|user|
: Acessa sistema;
: Acessa módulo de consulta;

|sys|
: Apresenta opções;

|user|
if (Opção desejada?) then (Histórico de consultas)
  if (Tipo de histórico?) then (Consultas finalizadas)
    : Seleciona consulta;
    : Visualiza detalhes (consula e prontuário);
  else (Consultas pendentes)
    : Seleciona consulta;
    : Solicita cancelamento;
    : Digita motivo do cancelamento;
    : Submete pedido;
    |sys|
    : Processa cancelamento;
    : Libera horário na agenda;
  endif
else (Nova consulta)
  : Filtra por profissional/especialidade;
  |sys|
  : Verifica agenda disponível;
  |user|
  : Escolhe data/horário;
  : Confirma agendamento;
  |sys|
  : Bloqueia horário na agenda;
endif

|sys|
: Registra pedido;
: Envia notificação para o profissional\ne o paciente envolvidos;

|user|
: Recebe confirmação;

stop
@enduml